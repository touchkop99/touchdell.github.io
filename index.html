<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Image Submited form</title>
    <meta name="description" content="A starter example with all elements and components used in Pico design system. Built with Pico CSS.">
    <link rel="shortcut icon" href="https://picocss.com/favicon.ico">
    <link rel="canonical" href="https://picocss.com/examples/preview/">
    <!-- Pico.css -->
    <!-- <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">-->
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.classless.min.css">

  </head>

  <body>

      <!-- Form elements-->
    <section id="form">
        <form id="formElem">
          <h2>Form elements</h2>

          <!-- Search 
          <label for="search">Search</label>
          <input type="search" id="search" name="search" placeholder="Search">-->

          <!-- Text -->
          <label for="text">Text</label>
          <input type="text" id="text" name="text" placeholder="Text" style="font-size:16px;">
          <small> ทดสอบส่งไฟล์242</small>

          <!-- Select 
          <label for="select">Select</label>
          <select id="select" name="select" required>
            <option value="" selected>Select…</option>
            <option>…</option>
          </select> -->

          <!-- File browser -->
          <label for="file">แนบรูปภาพ
            <input type="file" id="file" name="picture" accept="image/*">
          </label>


          <!--<div class="grid">-->

            <!-- Date
            <label for="date">Date
              <input type="date" id="date" name="date">
            </label>

            Time
            <label for="time">Time
              <input type="time" id="time" name="time">
            </label>-->

          <!--</div>-->

          <!-- Buttons -->
          <input type="reset" value="Reset" onclick="event.preventDefault()">
          <input type="submit">

        </form>
      </section><!-- ./ Form elements-->



    <script>
        formElem.onsubmit = async (e) => {
          e.preventDefault();
      
          let response = await fetch('https://prod-30.southeastasia.logic.azure.com:443/workflows/23543fda5fa441fdaa3dd982b2427086/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=DpasYfgNWSxNq_2J95wA8rAtNg58aYRtUbN_lVTmHP8', {
            method: 'POST',
            body: new FormData(formElem)
          });
      
          let result = await response.json();
      
          //alert(result.message);
          alert(result.name);
        };
      </script>

  </body>

</html>
